# ğŸš€ ALTIS Rocket Avionics System

![Version](https://img.shields.io/badge/Version-1.0.0-blue?style=flat-square)
![Status](https://img.shields.io/badge/Status-Flight%20Ready-success?style=flat-square)
![Platform](https://img.shields.io/badge/Platform-ESP32-orange?style=flat-square)
![Author](https://img.shields.io/badge/Author-Ok%20Gwidong-green?style=flat-square)

**ESP32 ê¸°ë°˜ì˜ 2ë‹¨ ë¡œì¼“ ë¹„í–‰ ì»´í“¨í„°(Flight Computer) íŒì›¨ì–´**ì…ë‹ˆë‹¤.
IMUì™€ ê¸°ì•• ì„¼ì„œ ë°ì´í„°ë¥¼ ì„¼ì„œ í“¨ì „(Sensor Fusion)í•˜ì—¬ ë¹„í–‰ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ íŒë‹¨í•˜ë©°, ì„¤ì •ëœ ë¡œì§ì— ë”°ë¼ ì„œë³´ëª¨í„° ë˜ëŠ” íŒŒì´ë¡œ(Pyro) ì¥ì¹˜ë¥¼ ì œì–´í•˜ì—¬ ì‚¬ì¶œ ë° ë‹¨ë¶„ë¦¬ ë¯¸ì…˜ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

---

## Developer Info
- **Name**: ì˜¥ê·€ë™ (Ok Gwidong)
- **Organization**: Rocket Club ALTIS
- **Role**: Avionics Software and Electronic Manager
- **Last Updated**: 2025-12-29

## ğŸ›  System Specs
### Hardware
- **MCU**: ESP32-WROOM (Dual Core, 240MHz)
- **IMU**: Bosch BMI088 (6-DOF, SPI)
- **Barometer**: Bosch BMP384 (High Precision, SPI)
- **Storage**: SD Card (SDMMC 4-bit Mode)
- **Actuators**: 
  - 3x Servo Motors (PWM)
  - 3x Pyro Channels (MOSFET Control)
- **Power**: 2S/3S Li-Po Battery (Voltage Monitored via ADC)

### Software Features
- **OS**: FreeRTOS (Dual Core Tasking)
  - `Core 0`: Flight Logic & Sensor Fusion (High Priority)
  - `Core 1`: Data Logging & User Interface
- **Recovery Logic**: Dual Stage Recovery (Drogue & Main) + Stage Separation
- **Telemetry**: Bluetooth Serial (SPP) for Real-time Monitoring & Command
- **Safety**: 
  - Auto-disarm/shutdown for actuators
  - Watchdog & Fail-safe logic

---

## Pin Map (Configuration)

| Component | Pin (GPIO) | Note |
| :--- | :---: | :--- |
| **IMU (BMI088)** | 25, 33 | CS (Accel, Gyro) |
| **Barometer** | 32 | CS |
| **Servo 1** | 26 | Eject 1 (Drogue) |
| **Servo 2** | 27 | Eject 2 (Main) |
| **Servo 3** | 22 | Separation |
| **Pyro 1~3** | 21, 5, 17 | Ignition Control |
| **Buzzer** | 16 | Status Notification |
| **Battery Check** | 36 (VP) | Voltage Divider Input |

---

## Bluetooth Commands
ë¹„í–‰ ì „ ë¸”ë£¨íˆ¬ìŠ¤ í„°ë¯¸ë„ì„ í†µí•´ ì‹œìŠ¤í…œì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

| Command | Description |
| :--- | :--- |
| `READY` | ì‹œìŠ¤í…œì„ **ARM** ìƒíƒœë¡œ ì „í™˜ (ë°œì‚¬ ì¤€ë¹„) |
| `EJ1` | ì‚¬ì¶œ 1ë²ˆ(Drogue) í…ŒìŠ¤íŠ¸ íŠ¸ë¦¬ê±° |
| `EJ2` | ì‚¬ì¶œ 2ë²ˆ(Main) í…ŒìŠ¤íŠ¸ íŠ¸ë¦¬ê±° |
| `SEP` | ë‹¨ë¶„ë¦¬(Separation) í…ŒìŠ¤íŠ¸ íŠ¸ë¦¬ê±° |
| `REBOOT` | ì‹œìŠ¤í…œ ì›ê²© ì¬ë¶€íŒ… |

---

## Changelog
- **2025-12-29**: 
  - `Recovery` ì‹œìŠ¤í…œ ë¼ì´ë¸ŒëŸ¬ë¦¬í™” ì™„ë£Œ (ì„œë³´/íŒŒì´ë¡œ í†µí•© ì œì–´ êµ¬ì¡°)
  - ë°°í„°ë¦¬ ì „ì•• ëª¨ë‹ˆí„°ë§ ê¸°ëŠ¥ ì¶”ê°€ (ë¸”ë£¨íˆ¬ìŠ¤ ìƒíƒœ ì „ì†¡)
  - ë¹„í–‰ ë¡œì§(FlightLogic) ë° ìƒíƒœ ë¨¸ì‹  ì•ˆì •í™”